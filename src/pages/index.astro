---
import Layout from "../layouts/main.astro";
import "./style.css";
---

<Layout>
    <div id="app">
        <div id="canvasWrapper">
            <canvas id="view"></canvas>

            <div id="controls" class="appWindow colorChanger">
                <div id="controlsHeader" class="appHeader">
                    <span class="appTitle">Palette</span>
                    <button class="appMinimize colorChanger" type="button"
                        >─</button
                    >
                </div>

                <div class="appBody" id="controlsContent">
                    <div class="row">
                        <label>
                            Color <input type="color" id="fc" />
                        </label>
                        <label>
                            Fill interior <input
                                type="checkbox"
                                id="fillInside"
                            />
                        </label>
                    </div>

                    <div class="row">
                        <label class="flex">
                            Glow
                            <input
                                type="range"
                                id="bw"
                                min="0"
                                max="100"
                                value="80"
                            />
                        </label>
                    </div>
                </div>
            </div>
        </div>

        <div id="juliaBox" class="appWindow colorChanger">
            <div id="juliaHeader" class="appHeader">
                <span class="appTitle">Julia set</span>
                <button class="appMinimize colorChanger" type="button">─</button
                >
            </div>

            <div id="juliaContent" class="appBody">
                <canvas id="juliaCanvas"></canvas>
                <div id="juliaCoordinates">Loading Julia-coordinates...</div>
                <div id="juliaResizeHandle" class="resizeHandle colorChanger">
                </div>
            </div>
        </div>

        <div id="juliaCursor" class="cursorWidget colorChanger">
            <div class="ver">
                <div class="line"></div><div class="line"></div>
            </div>
            <div class="hor">
                <div class="line"></div><div class="line"></div>
            </div>
        </div>

        <div id="statusBar" class="statusBar">
            <div id="status"></div>

            <div class="statusApps">
                <div id="statusPalette" class="toggleBtn">
                    <span>Palette</span>
                </div>
                <span>|</span>
                <div id="statusJulia" class="toggleBtn">
                    <span>Julia set</span>
                </div>
            </div>

            <span>|</span>

            <div id="about">
                <a
                    id="gerhardLink"
                    class="colorChanger link"
                    href="https://gerhard.page"
                >
                    Built by Gerhard
                </a>
            </div>

            <span>|</span>

            <button class="statusItem" type="button">?</button>
        </div>
    </div>
</Layout>

<script is:inline src="/mandelbrot/ui-dom.js"></script>
<script is:inline src="/mandelbrot/fractal-helpers.js"></script>
<script is:inline src="/mandelbrot/mandel-set.js"></script>
<script is:inline src="/mandelbrot/julia-set.js"></script>
<script is:inline src="/mandelbrot/main.js"></script>
